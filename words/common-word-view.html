<html>
<head>
<meta charset="UTF-8">
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="0" />
<meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/showdown@2.1.0/dist/showdown.min.js"></script>
<script type="text/javascript" src="/study-english/scripts/utils.js?ver=4"></script>
<link ref="stylesheet" type="text/css" href="/study-english/css/words.css?ver=1"></link>
<script>
    function onload(){
        document.title = "word: "+getParam("word");
        document.getElementById('return-href').href=getParam("return-path");
        div_element = document.getElementById('word_div');
        word = getParam("word");
        all_lines = readLines(word+"/"+word+".txt");
        load_word_div(div_element, word, all_lines.slice(0,2))
        div_element.append(fromHTML('<h4 id="">例句</h4>'));
        load_sentences(div_element, word, all_lines.slice(2))
    }
    function load_word_div(div_element, word, word_lines){
        div_element.append(
            fromHTML('<h3 id="word">' + word_lines[0] + '</h3>'), 
            fromHTML('<p>' + word_lines[1] + '</p>'),
            fromHTML('<audio controls src="./'+word+'/'+word+'.wav" title="'+word+'" controlslist="nodownload"></audio>')
        )
    }
    function load_sentences(div_element, word, sentence_lines){
        for(var i=0; i<sentence_lines.length;) {
            div_element.append(
                fromHTML(
                    '<ol start="'+(i/2+1)+'"><li>')+
                    sentence_lines[i++]+
                    '<br>'+
                    sentence_lines[i++]+
                    '</li></ol>'
                ),
                fromHTML('<audio controlslist="nodownload" src="./'+word+'/'+(i/2)+'.wav" title="'+word+'"></audio>'),
                fromHTML('<p><img src="./'+word+'/'+(i/2)+'.png" alt="word-image"></p>')
        };
    }
</script>
</head>
<body onLoad="onload()">
    <div id="head_div">
        <a id="return-href" href="./">返回单词表</a>
    </div>
    <div id="word_div">

    </div>
</body>
</html>